\documentclass{article}

% Font
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}

% For tables
\usepackage{adjustbox}
\usepackage{multirow}
\setlength\arrayrulewidth{0.2pt}
\usepackage{color, colortbl}
\definecolor{Gray}{gray}{0.95}

% For identing the table at the right place
\usepackage{float}

% For left spacing
\usepackage{scrextend}

% For images
\usepackage{graphicx}
\graphicspath{ {./images/} }

% links
\usepackage{hyperref}

% for shorter paragraph spaces
\setlength{\parindent}{1ex}
\setlength{\parskip}{0.5ex}
% for first paragraphs
\newcommand*\fpar{\hspace{1ex}}

\title{Project - Phase 8 Report}
\author{Group 14 \\
Tiago Carvalho fc51034 \\
Diogo Lopes fc51058 \\
João Roque fc51080 \\
Miguel Saldanha fc51072 \\
João Afonso fc51111 \\
}
\date{16/05/2021}

% The report is expected to:
  % Document the actual contributions in the various phases
  % Discuss the options taken throughout the project
  % Use diagrams and tables that summarize the ideas and results
  % Point future improvements

%  The report should not:
  % Explain concepts
  % Detail used frameworks, methodologies …
  % Use generic images or diagrams

\begin{document}
\maketitle

\section{Motivation}
\label{sec:motivation}
\fpar For our project we were thinking about an API that could help us decide which shows to watch next, by marking shows as viewed and/or liked.
\par Because we can watch more than just movies, like anime, we wanted to use more than one dataset. Both animes and movies can have a lot in common not only with each other but also with books, so we also decided to use a book dataset.
\par So we have three datasets, and we can effortlessly search thought any of them, mark them as seen or liked, and get suggestions. Having very similar categories in every single one of them.
\par For the suggestions our idea was making a recommendation list having in mind the item's rating and user's likes and views, which would indicate to us which categories the user prefers.
\par So it makes sense to call our API “Seen”.

\section{Dataset characterization}
\label{sec:dataset}
  \subsection{Dataset 1 — IMDB}
  \label{sec:imdb}
  \fpar This data set provides a lot of information about movies and shows that can be seen in \href{https://www.imdb.com}{IMDB}.
  \par We downloaded the dataset from the \href{https://www.kaggle.com/ashirwadsangwan/imdb-dataset}{Kaggle} website, updated one year ago.
  \par From the whole data this where the columns that were important to us:
  \begin{table}[H]
    \centering
    \begin{tabular}{l|l}
      Columns & Example                     \\ \hline
      id      & 606e2683b3fff1da8a207ae9    \\
      name    & The Arrival of a Train      \\
      category& [Action,Documentary,Short]  \\
      rating  & 7.4                         \\
      type    & short
    \end{tabular}
  \end{table}

  \subsection{Dataset 2 — MyAnimeList}
  \label{sec:anime}
  \fpar For the second data set we got it from \href{https://www.kaggle.com/azathoth42/myanimelist}{Kaggle}, about the \href{https://myanimelist.net/}{MyAnimeList} website.
  \par This data not only has a lot of anime content but also user information, but because we want to connect with the other datasets doesn't make sense to use that data. Meaning we used these columns:
  \begin{table}[H]
    \centering
    \begin{tabular}{l|l}
      Columns & Example                       \\ \hline
      id      & 606e252aebddc73ebfb15507      \\
      name    & Shakugan no Shana: Season II  \\
      category& [Action,Drama,Fantasy,Romance,School,Supernatural]  \\
      rating  & 7.72                          \\
      imageUrl& https://myanimelist.cdn-dena.com/images/anime/10/18669.jpg
    \end{tabular}
  \end{table}

  \subsection{Dataset 3 — GoodReads}
  \label{sec:reads}
  \fpar At last, this data set represents books from the \href{https://www.goodreads.com/}{GoodReads} website, also downloaded from \href{https://www.kaggle.com/meetnaren/goodreads-best-books}{Kaggle}.
  \par The helpful data from this data set, to be able to use with animes and movies, is its categories and rating:
  \begin{table}[H]
    \centering
    \begin{tabular}{l|l}
      Columns & Example                       \\ \hline
      id      & 606e25ad5e927a606f534284      \\
      name    & Of Mice and Men               \\
      description & The compelling story of two outsiders [...]           \\
      category& [Classics,Fiction,Academic,School,Literature,Historical]  \\
      rating  & 7.7                           \\
      imageUrl& https://images.gr-assets.com/books/1511302904l/890.jpg
    \end{tabular}
  \end{table}

\clearpage
\section{Use cases}
\label{sec:cases}
\fpar We have 3 types of Users: an Admin, which is a logged-in user with special permissions, a Regular user, which is a logged-in user, and a not logged-in user that we call Any.
\begin{table}[H]
  \centering
  \begin{tabular}{c|c|l} 
    Services & User & Functionalities \\ \hline
    \multirow{8}{*}{ Normal }
      & \multirow{2}{*}{ Any } 
        & Sign in \\
      & & See Book, Show and Movie Library \\ \cline{2-3}
      & \multirow{4}{*}{ Regular } 
        & User Log in \\
      & & Set Book/Show/Movie as seen \\
      & & Set Book/Show/Movie as liked \\ 
      & & Ask for suggestions to read and/or watch \\ \cline{2-3}
    & \multirow{2}{*}{ Admin } 
        & Add Book/Show/Movie to Library \\
      & & Remove Book/Show/Movie from Library \\ \hline
    \multirow{3}{*}{ Spark }
      & \multirow{3}{*}{ Any }
        & Count how many views a specific Item has \\
      & & Count how many likes a specific Item has \\
      & & Top 10 Items with more likes
  \end{tabular}
\end{table}

\section{API}
\label{sec:api}
\begin{table}[H]
  \centering
  \addtolength{\leftskip} {-20cm}
  \addtolength{\rightskip}{-20cm}
  % \resizebox{1.2\textwidth}{!}{% use resizebox with textwidth
  \begin{adjustbox}{width=1.4\textwidth}
  \begin{tabular}{ c|l l l l|l|l|l|l|l }
    % TODO - update
    \rowcolor{Gray}
    User & \multicolumn{4}{c|}{Path} & get & post & put & del & description 
    \\ \hline
    & /lib & \multicolumn{3}{l|}{/\{page\}} &
    X & & & &
    Returns a $page$ from the database
    \\
    \multirow{-2}{*}{Regular} & 
    \multicolumn{4}{l|}{/suggest} &
     & X & & &
    List of suggestions to watch
    \\ \cline{1-9} \rowcolor{Gray}
    Admin & /item & & & &
    & X & & &
    Creates an item to add to the database
    \\ \cline{1-9} 
    Any &
    /item & /\{type\} & /\{id\} & &
    X & & & X &
    Gets/Deletes item with specific $id$ and $type$ 
    \\ \cline{1-9} \rowcolor{Gray}
    & /item & /\{type\} & /\{id\} & /seen &
    & & X & &
    Marks item as seen
    \\ \rowcolor{Gray}
    \multirow{-2}{*}{Regular}
    & /item & /\{type\} & /\{id\} & /like &
    & & X & &
    Marks item as liked
    \\ \cline{1-9}
    & /item & /\{type\} & /\{id\} & /views &
    X & & & &
    Returns Item's number of views
    \\
    & /item & /\{type\} & /\{id\} & /likes &
    X & & & &
    Returns Item's number of likes
    \\ 
    & /getTopTen & /\{type\} &  &  &
    X & & & &
    Returns top ten most liked Items with $type$
    \\ 
    & \multicolumn{4}{l|}{/user} &
    & X & & &
    Creates User
    \\
    \multirow{-5}{*}{Any} 
    & /user & \multicolumn{3}{l|}{/login} &
    X & & & &
    Logs in
    \\ \cline{1-9} \rowcolor{Gray}
    & /user & \multicolumn{3}{l|}{/logout} &
    X & & & &
    Logs out
    \\ \rowcolor{Gray}
    \multirow{-2}{*}{Regular} 
    & /user & /search & \multicolumn{2}{l|}{/\{username\}} &
    X & & & X &
    Searches/Deletes User by username
  \end{tabular}
  % }
  \end{adjustbox}
\end{table}

\clearpage
\section{Architecture (application and technical)}
\label{sec:arch}
% say hwo to took care of item's id that can have duplicates (even if only being a small chance)
  \subsection{Diagram}
  \begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{ CloudNativeAppArchitecture.png }
    \caption{TODO}
    \label{img:arch}
  \end{figure}

\section{Implementation}
\label{sec:impl}

\section{Evaluation and validation}
\label{sec:eval}

\section{Cost analysis}
\label{sec:cost}

\section{Discussion}
\label{sec:disc}

\section{Conclusions}
\label{sec:conc}

\end{document}